// Columns Styles
.container {
  @extend %clearfix;
  width: $container-width-fallback;
  width: $container-width;
  max-width: $large-column-max;
  min-width: $container-min;
  padding-right: 0;
  padding-left: 0;
  margin-right: auto;
  margin-left: auto;
}

// Column Base Styles
%column-base {
  @include box-sizing(border-box);
  float: left;
  margin: 0;
  padding: 0 $column-gutter-fallback / 2;
  padding: 0 $column-gutter / 2;
}

[class^="column-"] {
  @extend %column-base;
  [class^="column-"]:first-child {
    margin-left: -($column-gutter-fallback / 2);
    margin-left: -$column-gutter / 2;
  }
  [class^="column-"]:last-child {
    margin-right: -($column-gutter-fallback / 2);
    margin-right: -$column-gutter / 2;
  }
}

[class^="column-"]:last-child {
  @extend %clearfix;
}

// Large Columns
@for $n from 1 through $large-column-count {
  .#{$large-class}-#{$n} {
    width: ($n / $large-column-count) * $container-width - .01vw;
    max-width: ($n / $large-column-count) * $large-column-max;
    > .column-#{$n} {
      margin-left: -($column-gutter-fallback / 2);
      margin-left: -($column-gutter/2);
    }
  }

  .pre-#{$n} {
    @include pre($n, $large-column-count);
  }
  .post-#{$n} {
    @include post($n, $large-column-count);
  }
}

@include respond-to($large, min-width) {
  @for $n from 1 through $large-column-count {
    .pre-#{$n} {
      margin-left: ($n / $large-column-count) * $large-column-max !important;
    }
    .post-#{$n} {
      margin-right: ($n / $large-column-count) * $large-column-max !important;
    }
  }
}

// Medium Columns
@include respond-to($medium-column-breakpoint) {
  @for $n from 1 through $medium-column-count {
    .#{$medium-class}-#{$n} {
      width: ($n / $medium-column-count) * $container-width - .01vw;
      max-width: none;
    }
    .#{$medium-class}-pre-#{$n} {
      @include pre($n, $medium-column-count);
    }
    .#{$medium-class}-post-#{$n} {
      @include post($n, $medium-column-count);
    }
  }
  .#{$medium-class}-pre-0 {
    margin-left: inherit;
  }
  .#{$medium-class}-post-0 {
    margin-right: inherit;
  }
}



// Small Columns
@include respond-to($small-column-breakpoint) {
  @for $n from 1 through $small-column-count {
    .#{$small-class}-#{$n} {
      width: ($n / $small-column-count) * $container-width - .01vw;
      max-width: none;
    }
    .#{$small-class}-pre-#{$n} {
      @include pre($n, $small-column-count);
    }
    .#{$small-class}-post-#{$n} {
      @include post($n, $small-column-count);
    }
  }
  .#{$small-class}-pre-0 {
    margin-left: inherit;
  }
  .#{$small-class}-post-0 {
    margin-right: inherit;
  }
}

